每一个 ROS 功能包都是一个独立的功能，其中可能包含一个或者多个节点，这些功能对外使用话题、 服务、参数等作为接口。其他开发者在使用这个功能包时，可以不用关注内部的代码实现，只需要知道这些接口的类型和作用，就可以集成到自己的系统中。

工作空间
工作空间（workspace）是一个存放工程开发相关文件的文件夹。Fuerte 版本之后的 ROS 默认使用的是 Catkin 编译系统，典型的工作空间中一般包括以下四个目录空间：
1）src：代码空间（Source Space），开发过程中最常用的文件夹，用来存储所有 ROS 功能包的源码文件。
2）build：编译空间（Build Space），用来存储工作空间编译过程中产生的缓存信息和中间文件。
3）devel：开发空间（Development Space），用来放置编译生成的可执行文件。
4）install：安装空间（Install Space），编译成功后，可以使用 `make install` 命令将可执行文件安装到该空间中，运行该空间中的环境变量脚本，即可在终端中运行这些可执行文件。安装空间并不是必需的，很多工作空间中可能并没有该文件夹。

package.xml 文件提供了功能包的元信息，也就是描述功能包属性的信息。CMakeLists.txt 文件记录了功能包的编译规则。
ROS 不允许在某个功能包中嵌套其他功能包，多个功能包必须平行放置在代码空间中，否则在编译时会报错。

ROS 的工作空间有一个机制——Overlaying， 即工作空间的覆盖。
所有工作空间的路径会依次在 `ROS_PACKAGE_PATH` 环境变量中记录，当设置多个工作空间的环境变量后，新设置的路径在 `ROS_PACKAGE_PATH` 中会自动放置在最前端。在运行时，ROS 会优先查找最前端的工作空间中是否存在指定的功能包，如果不存在，就顺序向后查找其他工作空间，直到最后一个工作空间为止。

Publisher 的主要作用是针对指定话题发布特定数据类型的消息：
1.  初始化 ROS 节点。
2.  向 ROS Master 注册节点信息，包括发布的话题名和话题中的消息类型。
3.  按照一定频率循环发布消息。

> 回调函数是订阅节点接收消息的基础机制，当有消息到达时会自动以消息指针作为参数，再调用回调函数，完成对消息内容的处理。

创建 Subscriber 的主要作用是：订阅 Publisher 节点发布的内容：
1.  初始化 ROS 节点。
2.  订阅需要的话题。
3.  循环等待话题消息，接收到消息后进入回调函数。
4.  在回调函数中完成消息处理。

在很多情况下，我们需要针对自己的机器人应用设计特定的消息类型，ROS 也提供了一套语言无关的消息类型定义方法。msg 文件就是 ROS 中定义消息类型的文件，一般放置在功能包根目录下的 msg 文件夹中。在功能包编译过程中，可以使用 msg 文件生成不同编程语言使用的代码文件。

服务（Service）是节点之间同步通信的一种方式，允许客户端（Client）节点发布请求（Request）， 由服务端（Server）节点处理后反馈应答（Response）

服务一般分为服务端（Server）和客户端（Client）两个部分， Client 负责发布请求数据，等待 Server 处理；Server 负责处理相应的功能，并且返回应答数据。

与话题消息类似，ROS 中的服务数据可以通过 srv 文件进行语言无关的接口定义，一般放置在功能包根目录下的 srv 文件夹中。该文件包含请求与应答两个数据域，数据域中的内容与话题消息的数据类型相同，只是在请求与应答的描述之间，需要使用 `---` 进行分割。

服务中的 Server 类似于话题中的 Subscriber，实现流程如下：
1.  初始化 ROS 节点。
2.  创建 Server 实例。
3.  循环等待服务请求，进入回调函数。
4.  在回调函数中完成服务功能的处理并反馈应答数据。

服务中的 Client 类似于话题中的 Publisher，实现流程如下：
1.  初始化 ROS 节点。
2.  创建一个 Client 实例。
3.  发布服务请求数据。
4.  等待 Server 处理之后的应答结果。

ROS 中只允许存在一个 Master，在多机系统中 Master 只能运行在一台机器上，其他机器需要通过 ssh 的方式和 Master 取得联系。